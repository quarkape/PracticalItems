<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <title>\n\r cleaner</title>
  <style>
    #original_content {
      width: 800px;
      height: 400px;
    }
  </style>
</head>

<body style="margin: 0;padding: 20px;">
    <div style="width: 100%;height:500px;position: relative;">
      <div style="width: 46%;height:400px;position: absolute;top:0;left:0;">
        <textarea id="original_content" placeholder="将文本粘贴在此处" style="outline: none;resize: none;padding: 10px;"></textarea>
      </div>
      <div style="width: 46%;height:400px;position:absolute;top:0;right:0;border: 1px solid #666;">
        <div>效果：</div>
        <div id="result" style="padding: 10px;"></div>
      </div>
    </div>
  
  <div>
    <button onclick="showResult()">点我处理</button>
    <div id="msg" style="color:red;display: none;">处理成功，已经复制到剪贴板，直接粘贴即可！</div>
  </div>
  <div style="margin-top:20px">
    <button onclick="clearContent()">清空页面</button>
  </div>
  
  <div style="height: 0;width: 0;">
    <textarea style="width: 0;height: 0;resize: none;opacity: 0;" id="hide_content"></textarea>
  </div>
  <div style="position:fixed;bottom:10px;left:0;text-align:center;width:100%;z-index:0;">/n/r cleaner @quarkape all right reserved. 2021-2022. @wechat-quarkape</div>

  <script>
    console.log("hallo,欢迎添加qq好友一起交流：2446247905")
    function showResult() {
      var o_content = document.getElementById("original_content").value
      var f_content = o_content.replace(/[\r\n]/g,"")
      var content = document.getElementById("hide_content")
      content.value = f_content
      content.select()
      setTimeout(()=>{
        if (document.execCommand('copy')) {
          document.execCommand('copy');
          var msg = document.getElementById("msg")
          msg.style.display = "inline-block"
          document.getElementById("result").innerHTML = f_content
          setTimeout(()=>{
            msg.style.display = "none"
          }, 5000)
        }
      }, 0)
    }
    function clearContent() {
      console.log("enter")
      document.getElementById("original_content").value = ""
      document.getElementById("result").innerHTML = ""
    }
  </script>
</body>